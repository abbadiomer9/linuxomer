<h1>What are enviroment modules?</h1>
The environment modules are a technique for the user to have various versions of a single software available. They are especially common on supercomputers. The user can load only the apps that they need, rather than all of the applications that are available on the system.
They may quickly unload apps they no longer need or switch to a different version of the application they are using.

Problems solved by enviroment modules:
1. There might be a lot of apps available on the system. The user might not need all of them. Different apps have different effects on environment variables (for example, <code>$PATH</code> and <code>$LD LIBRARY PATH</code>). They could even be incompatible with one another. There should be a way to load only the apps that the user needs.
2. The user might want to switch to a different version of the application they are using. 

Environment modules have nothing to do with 'perl' or 'python' modules and should not be confused with them!

<h1>Installation</h1>
The module utility is available from CentOS base repo. So one can simply install it with:

```bash
yum -y install environment-modules
```

<h1>Working with enviroment modules files</h1>
The enviroment modules files are located in <code>/etc/modulefiles</code> directory. The files are named <code>modulefile</code> and they are used to specify the versions of the software that are available on the system. The files are used by the <code>module</code> command.

Create a directory /etc/modulefiles/my_app/ to hold modulefiles for different versions of the application.

```bash
mkdir /etc/modulefiles/my_app
```

Create a modulefile /etc/modulefiles/python/version1.0 for the version 1.0 of the application:

```bash
touch /etc/modulefiles/my_app/version1.0
```

The file contains the following lines:

```
#%Module 1.0#####################################################################
##
##  This is a sample modulefile for environment modules.
##
##  It is recommended that you do not edit this file directly.
##  Instead, you should use the 'module' command.
##
##  For more information on environment modules, see:
##  http://modules.sourceforge.net/
##
proc ModulesHelp { } {
    puts stderr "This is a sample modulefile for environment modules."
    puts stderr "It is recommended that you do not edit this file directly."
    puts stderr "Instead, you should use the 'module' command."
    puts stderr "For more information on environment modules, see:"
    puts stderr "http://modules.sourceforge.net/"
}

module-whatis "This is a sample modulefile for environment modules."

prepend-path PATH /path/to/my/app/
prepend-path LD_LIBRARY_PATH /path/to/my/app/lib
conflict my_app
```

<h1>Using enviroment modules</h1>

The <code>module</code> command is used whenver the user interacts with enviroment modules.

To load the version 1.0 of the application, use:

```bash
module load my_app/version1.0
```

To unload the module, use:

```bash
module unload my_app
```

To list the versions of the application available on the system, use:

```bash
module avail my_app
```

To list all applications available on the system, use:

```bash
module avail
```

To unload all loaded modules, use:

```bash
module purge
```
